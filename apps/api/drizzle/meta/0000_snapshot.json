{
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "dialect": "mysql",
  "id": "917733af-9c63-49d4-9bdb-c80b5e54ec25",
  "internal": {
    "tables": {},
    "indexes": {}
  },
  "prevId": "00000000-0000-0000-0000-000000000000",
  "tables": {
    "admin": {
      "name": "admin",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "role": {
          "name": "role",
          "type": "enum('super','admin','operator')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "permissions": {
          "name": "permissions",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_login": {
          "name": "last_login",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "login_ip": {
          "name": "login_ip",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "login_count": {
          "name": "login_count",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "department": {
          "name": "department",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "admin_id_volunteer_id_fk": {
          "name": "admin_id_volunteer_id_fk",
          "tableFrom": "admin",
          "tableTo": "volunteer",
          "columnsFrom": ["id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "admin_id": {
          "name": "admin_id",
          "columns": ["id"]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "chanting_schedule": {
      "name": "chanting_schedule",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "location": {
          "name": "location",
          "type": "enum('fuhuiyuan','waiqin')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'fuhuiyuan'"
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "time_slot": {
          "name": "time_slot",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "bell_volunteer_id": {
          "name": "bell_volunteer_id",
          "type": "bigint unsigned",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "teaching_volunteer_id": {
          "name": "teaching_volunteer_id",
          "type": "bigint unsigned",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "backup_volunteer_id": {
          "name": "backup_volunteer_id",
          "type": "bigint unsigned",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "deceased_id": {
          "name": "deceased_id",
          "type": "bigint unsigned",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('pending','confirmed','in_progress','completed','cancelled')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'pending'"
        },
        "actual_start_time": {
          "name": "actual_start_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "actual_end_time": {
          "name": "actual_end_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "feedback": {
          "name": "feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "expected_participants": {
          "name": "expected_participants",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "special_requirements": {
          "name": "special_requirements",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_by": {
          "name": "created_by",
          "type": "bigint unsigned",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "chanting_schedule_bell_volunteer_id_volunteer_id_fk": {
          "name": "chanting_schedule_bell_volunteer_id_volunteer_id_fk",
          "tableFrom": "chanting_schedule",
          "tableTo": "volunteer",
          "columnsFrom": ["bell_volunteer_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "chanting_schedule_teaching_volunteer_id_volunteer_id_fk": {
          "name": "chanting_schedule_teaching_volunteer_id_volunteer_id_fk",
          "tableFrom": "chanting_schedule",
          "tableTo": "volunteer",
          "columnsFrom": ["teaching_volunteer_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "chanting_schedule_backup_volunteer_id_volunteer_id_fk": {
          "name": "chanting_schedule_backup_volunteer_id_volunteer_id_fk",
          "tableFrom": "chanting_schedule",
          "tableTo": "volunteer",
          "columnsFrom": ["backup_volunteer_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "chanting_schedule_deceased_id_deceased_id_fk": {
          "name": "chanting_schedule_deceased_id_deceased_id_fk",
          "tableFrom": "chanting_schedule",
          "tableTo": "deceased",
          "columnsFrom": ["deceased_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "chanting_schedule_created_by_volunteer_id_fk": {
          "name": "chanting_schedule_created_by_volunteer_id_fk",
          "tableFrom": "chanting_schedule",
          "tableTo": "volunteer",
          "columnsFrom": ["created_by"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "chanting_schedule_id": {
          "name": "chanting_schedule_id",
          "columns": ["id"]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "deceased": {
      "name": "deceased",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "name": {
          "name": "name",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "chant_number": {
          "name": "chant_number",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "chantPostion": {
          "name": "chantPostion",
          "type": "enum('room-one','room-two','room-three','room-four','unknow')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'unknow'"
        },
        "gender": {
          "name": "gender",
          "type": "enum('male','female','other')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "death_date": {
          "name": "death_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "death_time": {
          "name": "death_time",
          "type": "time",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "age": {
          "name": "age",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "visit_time": {
          "name": "visit_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "visitation_team": {
          "name": "visitation_team",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "birth_date": {
          "name": "birth_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "religion": {
          "name": "religion",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_ordained": {
          "name": "is_ordained",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "cause_of_death": {
          "name": "cause_of_death",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "family_contact": {
          "name": "family_contact",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "family_relationship": {
          "name": "family_relationship",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "special_notes": {
          "name": "special_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "funeral_arrangements": {
          "name": "funeral_arrangements",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "deceased_id": {
          "name": "deceased_id",
          "columns": ["id"]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "volunteer": {
      "name": "volunteer",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "lotus_id": {
          "name": "lotus_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "volunteer_id": {
          "name": "volunteer_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "id_number": {
          "name": "id_number",
          "type": "varchar(18)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "lotus_role": {
          "name": "lotus_role",
          "type": "enum('admin','volunteer','resident')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'volunteer'"
        },
        "account": {
          "name": "account",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "password": {
          "name": "password",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "gender": {
          "name": "gender",
          "type": "enum('male','female','other')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "birth_date": {
          "name": "birth_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "wechat": {
          "name": "wechat",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "avatar": {
          "name": "avatar",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "education": {
          "name": "education",
          "type": "enum('none','elementary','middle_school','high_school','bachelor','master','phd','other')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'high_school'"
        },
        "has_buddhism_faith": {
          "name": "has_buddhism_faith",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "refuge_status": {
          "name": "refuge_status",
          "type": "enum('none','took_refuge','five_precepts','bodhisattva')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'none'"
        },
        "health_conditions": {
          "name": "health_conditions",
          "type": "enum('healthy','has_chronic_disease','has_disability','has_allergies','recovering_from_illness','other_conditions')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'healthy'"
        },
        "religious_background": {
          "name": "religious_background",
          "type": "enum('upasaka','upasika','sramanera','sramanerika','bhikkhu','bhikkhuni','anagarika','siladhara','novice_monk','buddhist_visitor','none')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'upasaka'"
        },
        "join_reason": {
          "name": "join_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "hobbies": {
          "name": "hobbies",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "available_times": {
          "name": "available_times",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "training_records": {
          "name": "training_records",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "service_hours": {
          "name": "service_hours",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "is_certified": {
          "name": "is_certified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "emergency_contact": {
          "name": "emergency_contact",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "family_consent": {
          "name": "family_consent",
          "type": "enum('approved','partial','rejected','self_decided')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'self_decided'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "reviewer": {
          "name": "reviewer",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "volunteer_status": {
          "name": "volunteer_status",
          "type": "enum('applicant','trainee','registered','inactive','suspended')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'applicant'"
        },
        "signed_commitment": {
          "name": "signed_commitment",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "commitment_signed_date": {
          "name": "commitment_signed_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "sever_position": {
          "name": "sever_position",
          "type": "enum('kitchen','chanting','cleaning','reception','security','office','other')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'other'"
        },
        "status": {
          "name": "status",
          "type": "enum('active','inactive','applicant','trainee','registered','suspended')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'applicant'"
        },
        "member_status": {
          "name": "member_status",
          "type": "enum('volunteer','resident')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'volunteer'"
        },
        "room_id": {
          "name": "room_id",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "volunteer_id": {
          "name": "volunteer_id",
          "columns": ["id"]
        }
      },
      "uniqueConstraints": {
        "volunteer_lotus_id_unique": {
          "name": "volunteer_lotus_id_unique",
          "columns": ["lotus_id"]
        },
        "volunteer_volunteer_id_unique": {
          "name": "volunteer_volunteer_id_unique",
          "columns": ["volunteer_id"]
        },
        "volunteer_id_number_unique": {
          "name": "volunteer_id_number_unique",
          "columns": ["id_number"]
        },
        "volunteer_account_unique": {
          "name": "volunteer_account_unique",
          "columns": ["account"]
        }
      },
      "checkConstraint": {}
    },
    "volunteer_checkin": {
      "name": "volunteer_checkin",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "lotus_id": {
          "name": "lotus_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "originTime": {
          "name": "originTime",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "recordId": {
          "name": "recordId",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "check_in": {
          "name": "check_in",
          "type": "time",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "recordType": {
          "name": "recordType",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('present','late','early_leave','absent','on_leave')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'present'"
        },
        "location": {
          "name": "location",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'深圳市龙岗区慈海医院福慧园七栋一楼'"
        },
        "device_id": {
          "name": "device_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'YET88476'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "volunteer_checkin_lotus_id_volunteer_lotus_id_fk": {
          "name": "volunteer_checkin_lotus_id_volunteer_lotus_id_fk",
          "tableFrom": "volunteer_checkin",
          "tableTo": "volunteer",
          "columnsFrom": ["lotus_id"],
          "columnsTo": ["lotus_id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {
        "volunteer_checkin_id": {
          "name": "volunteer_checkin_id",
          "columns": ["id"]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    }
  },
  "version": "5",
  "views": {}
}
