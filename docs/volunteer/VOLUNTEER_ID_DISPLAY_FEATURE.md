# æ·±åœ³ä¹‰å·¥å·æ˜¾ç¤ºåŠŸèƒ½

## âœ¨ æ–°å¢åŠŸèƒ½

åœ¨ä¹‰å·¥ç®¡ç†ç³»ç»Ÿçš„å¤šä¸ªä½ç½®æ·»åŠ äº†æ·±åœ³ä¹‰å·¥å·ï¼ˆvolunteerIdï¼‰çš„æ˜¾ç¤ºå’Œç¼–è¾‘åŠŸèƒ½ã€‚

---

## ğŸ“ æ·»åŠ ä½ç½®

### 1. ä¹‰å·¥åˆ—è¡¨è¡¨æ ¼

åœ¨ä¹‰å·¥ä¿¡æ¯åˆ—åé¢æ·»åŠ äº†"æ·±åœ³ä¹‰å·¥å·"åˆ—ã€‚

**ä½ç½®**ï¼šä¹‰å·¥ç®¡ç† â†’ å…¨éƒ¨ä¹‰å·¥/å¾…å®¡æ‰¹ â†’ è¡¨æ ¼

**åŠŸèƒ½**ï¼š
- æ˜¾ç¤ºæ·±åœ³ä¹‰å·¥å·
- ç‚¹å‡»å¯å¤åˆ¶ä¹‰å·¥å·
- é¼ æ ‡æ‚¬åœæ˜¾ç¤ºå¤åˆ¶å›¾æ ‡
- å¦‚æœæ²¡æœ‰ä¹‰å·¥å·ï¼Œæ˜¾ç¤º"-"

### 2. ä¹‰å·¥è¯¦æƒ…é¡µé¢

åœ¨è”ç³»ä¿¡æ¯å¡ç‰‡ä¸­æ˜¾ç¤ºæ·±åœ³ä¹‰å·¥å·ã€‚

**ä½ç½®**ï¼šä¹‰å·¥ç®¡ç† â†’ æŸ¥çœ‹è¯¦æƒ… â†’ è”ç³»ä¿¡æ¯

**åŠŸèƒ½**ï¼š
- æ˜¾ç¤ºæ·±åœ³ä¹‰å·¥å·
- ä½¿ç”¨æŒ‡çº¹å›¾æ ‡æ ‡è¯†
- ç­‰å®½å­—ä½“æ˜¾ç¤º

### 3. ä¹‰å·¥è¡¨å•

åœ¨åŸºæœ¬ä¿¡æ¯éƒ¨åˆ†æ·»åŠ äº†æ·±åœ³ä¹‰å·¥å·è¾“å…¥æ¡†ã€‚

**ä½ç½®**ï¼š
- æ·»åŠ ä¹‰å·¥è¡¨å•
- ç¼–è¾‘ä¹‰å·¥è¡¨å•

**åŠŸèƒ½**ï¼š
- å¯è¾“å…¥æ·±åœ³ä¹‰å·¥å·
- é€‰å¡«å­—æ®µï¼ˆä¸æ˜¯å¿…å¡«ï¼‰
- æ”¯æŒç¼–è¾‘å’Œæ›´æ–°

### 4. å¯¼å‡ºåŠŸèƒ½

åœ¨å¯¼å‡ºçš„Excel/CSV/TXT/Markdownæ–‡ä»¶ä¸­åŒ…å«æ·±åœ³ä¹‰å·¥å·ã€‚

**ä½ç½®**ï¼šä¹‰å·¥ç®¡ç† â†’ å¯¼å‡º

**åŠŸèƒ½**ï¼š
- å¯¼å‡ºæ—¶åŒ…å«æ·±åœ³ä¹‰å·¥å·åˆ—
- ä½äºå§“ååˆ—ä¹‹å

---

## ğŸ”§ æŠ€æœ¯å®ç°

### 1. è¡¨æ ¼åˆ—æ·»åŠ 

åœ¨ `VolunteerDataTable.tsx` ä¸­æ·»åŠ æ–°åˆ—ï¼š

```typescript
{
  accessorKey: "volunteerId",
  header: "æ·±åœ³ä¹‰å·¥å·",
  cell: ({ row }) => {
    const volunteerId = row.original.volunteerId;
    if (!volunteerId) return <span className="text-muted-foreground text-xs">-</span>;
    return (
      <div 
        className="flex items-center gap-1 text-xs font-mono text-foreground cursor-pointer hover:text-primary transition-colors group"
        onClick={(e) => {
          e.stopPropagation();
          navigator.clipboard.writeText(volunteerId);
          toast.success("ä¹‰å·¥å·å·²å¤åˆ¶");
        }}
        title="ç‚¹å‡»å¤åˆ¶ä¹‰å·¥å·"
      >
        <span>{volunteerId}</span>
        <Copy className="h-2.5 w-2.5 opacity-0 group-hover:opacity-100 transition-opacity" />
      </div>
    );
  },
},
```

**ç‰¹ç‚¹**ï¼š
- ç­‰å®½å­—ä½“ï¼ˆfont-monoï¼‰
- ç‚¹å‡»å¤åˆ¶åŠŸèƒ½
- æ‚¬åœæ˜¾ç¤ºå¤åˆ¶å›¾æ ‡
- ç©ºå€¼æ˜¾ç¤º"-"

### 2. åˆ—åæ˜ å°„

```typescript
const columnLabels: Record<string, string> = {
  lotusId: "è²èŠ±æ–‹ID",
  name: "å§“å",
  volunteerId: "æ·±åœ³ä¹‰å·¥å·",  // æ–°å¢
  gender: "æ€§åˆ«",
  volunteerStatus: "çŠ¶æ€",
  lotusRole: "è§’è‰²",
  createdAt: "åˆ›å»ºæ—¶é—´",
};
```

### 3. å¯¼å‡ºåˆ—é…ç½®

```typescript
const exportColumns: ExportColumn[] = [
  { key: "lotusId", label: "è²èŠ±æ–‹ID" },
  { key: "name", label: "å§“å" },
  { key: "volunteerId", label: "æ·±åœ³ä¹‰å·¥å·" },  // æ–°å¢
  // ... å…¶ä»–åˆ—
];
```

### 4. è¡¨å•å­—æ®µ

åœ¨ `VolunteerForm.tsx` ä¸­æ·»åŠ è¾“å…¥æ¡†ï¼š

```typescript
<div className="space-y-2">
  <Label className="flex items-center gap-2">
    <CreditCard className="h-4 w-4 text-muted-foreground" />
    æ·±åœ³ä¹‰å·¥å·
  </Label>
  <form.Field name="volunteerId">
    {(field) => (
      <Input
        value={field.state.value || ""}
        onChange={(e) => field.handleChange(e.target.value)}
        placeholder="è¯·è¾“å…¥æ·±åœ³ä¹‰å·¥å·ï¼ˆé€‰å¡«ï¼‰"
      />
    )}
  </form.Field>
</div>
```

### 5. è¡¨å•é»˜è®¤å€¼

```typescript
defaultValues: {
  // åŸºæœ¬ä¿¡æ¯
  name: volunteer?.name || "",
  phone: volunteer?.phone || "",
  idNumber: volunteer?.idNumber || "",
  volunteerId: volunteer?.volunteerId || "",  // æ–°å¢
  // ...
}
```

### 6. è¯¦æƒ…é¡µæ˜¾ç¤º

åœ¨ `VolunteerDetails.tsx` ä¸­ï¼ˆå·²å­˜åœ¨ï¼‰ï¼š

```typescript
<DetailItem 
  icon={Fingerprint} 
  label="æ·±åœ³ä¹‰å·¥å·" 
  value={volunteer.volunteerId} 
  className="font-mono" 
/>
```

---

## ğŸ“Š æ˜¾ç¤ºæ•ˆæœ

### è¡¨æ ¼åˆ—

```
| ä¹‰å·¥ä¿¡æ¯      | æ·±åœ³ä¹‰å·¥å·    | çŠ¶æ€   | è§’è‰² |
|--------------|--------------|--------|------|
| å¼ ä¸‰         | 12345678     | å·²æ³¨å†Œ | ä¹‰å·¥ |
| LHS001       |              |        |      |
| æå››         | 87654321     | åŸ¹è®­ä¸­ | ä¹‰å·¥ |
| LHS002       |              |        |      |
```

### è¯¦æƒ…é¡µ

```
è”ç³»ä¿¡æ¯
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”‘ æ·±åœ³ä¹‰å·¥å·    12345678
ğŸ“± æ‰‹æœºå·        138 1234 5678
ğŸ†” èº«ä»½è¯        440513199709122913
ğŸ“§ é‚®ç®±          zhang@example.com
```

### è¡¨å•

```
åŸºæœ¬ä¿¡æ¯
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
å§“å *          [å¼ ä¸‰              ]
æ‰‹æœºå· *        [138 1234 5678     ]
èº«ä»½è¯å· *      [440513199709122913]
æ·±åœ³ä¹‰å·¥å·      [12345678          ]  â† æ–°å¢
æ€§åˆ« *          [ç”· â–¼              ]
```

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### 1. æŸ¥çœ‹ä¹‰å·¥å·

åœ¨ä¹‰å·¥åˆ—è¡¨ä¸­å¿«é€ŸæŸ¥çœ‹æ¯ä¸ªä¹‰å·¥çš„æ·±åœ³ä¹‰å·¥å·ã€‚

### 2. å¤åˆ¶ä¹‰å·¥å·

ç‚¹å‡»ä¹‰å·¥å·å¯ä»¥å¿«é€Ÿå¤åˆ¶ï¼Œæ–¹ä¾¿åœ¨å…¶ä»–ç³»ç»Ÿä¸­ä½¿ç”¨ã€‚

### 3. å½•å…¥ä¹‰å·¥å·

åœ¨æ·»åŠ æˆ–ç¼–è¾‘ä¹‰å·¥æ—¶ï¼Œå¯ä»¥å½•å…¥æ·±åœ³ä¹‰å·¥å·ã€‚

### 4. å¯¼å‡ºä¹‰å·¥å·

å¯¼å‡ºä¹‰å·¥æ•°æ®æ—¶ï¼ŒåŒ…å«æ·±åœ³ä¹‰å·¥å·ä¿¡æ¯ã€‚

### 5. å¯¹æ¥ä¹‰å·¥è”ç³»ç»Ÿ

æ·±åœ³ä¹‰å·¥å·ç”¨äºä¸æ·±åœ³å¸‚ä¹‰å·¥è”ç³»ç»Ÿå¯¹æ¥ã€‚

---

## ğŸ“ å­—æ®µè¯´æ˜

### volunteerId å­—æ®µ

- **ç±»å‹**ï¼šå­—ç¬¦ä¸²ï¼ˆvarcharï¼‰
- **å¿…å¡«**ï¼šå¦ï¼ˆé€‰å¡«ï¼‰
- **å”¯ä¸€æ€§**ï¼šæ˜¯ï¼ˆå¦‚æœå¡«å†™ï¼Œå¿…é¡»å”¯ä¸€ï¼‰
- **ç”¨é€”**ï¼šä¸æ·±åœ³å¸‚ä¹‰å·¥è”ç³»ç»Ÿå¯¹æ¥
- **æ ¼å¼**ï¼šæ•°å­—å­—ç¬¦ä¸²ï¼ˆå¦‚ï¼š12345678ï¼‰

### æ•°æ®åº“å®šä¹‰

```typescript
volunteerId: varchar('volunteer_id', { length: 50 })
```

---

## ğŸ§ª æµ‹è¯•åœºæ™¯

### 1. æ˜¾ç¤ºä¹‰å·¥å·

**æµ‹è¯•æ­¥éª¤**ï¼š
1. è¿›å…¥ä¹‰å·¥ç®¡ç†é¡µé¢
2. æŸ¥çœ‹è¡¨æ ¼

**é¢„æœŸç»“æœ**ï¼š
- æœ‰ä¹‰å·¥å·çš„æ˜¾ç¤ºä¹‰å·¥å·
- æ²¡æœ‰ä¹‰å·¥å·çš„æ˜¾ç¤º"-"

### 2. å¤åˆ¶ä¹‰å·¥å·

**æµ‹è¯•æ­¥éª¤**ï¼š
1. ç‚¹å‡»è¡¨æ ¼ä¸­çš„ä¹‰å·¥å·
2. æŸ¥çœ‹æç¤º

**é¢„æœŸç»“æœ**ï¼š
- æ˜¾ç¤º"ä¹‰å·¥å·å·²å¤åˆ¶"æç¤º
- å‰ªè´´æ¿ä¸­æœ‰ä¹‰å·¥å·

### 3. æ·»åŠ ä¹‰å·¥å·

**æµ‹è¯•æ­¥éª¤**ï¼š
1. ç‚¹å‡»"æ·»åŠ ä¹‰å·¥"
2. å¡«å†™åŸºæœ¬ä¿¡æ¯
3. å¡«å†™æ·±åœ³ä¹‰å·¥å·
4. ä¿å­˜

**é¢„æœŸç»“æœ**ï¼š
- ä¹‰å·¥å·ä¿å­˜æˆåŠŸ
- åœ¨åˆ—è¡¨ä¸­æ˜¾ç¤º

### 4. ç¼–è¾‘ä¹‰å·¥å·

**æµ‹è¯•æ­¥éª¤**ï¼š
1. ç¼–è¾‘ä¸€ä¸ªä¹‰å·¥
2. ä¿®æ”¹æ·±åœ³ä¹‰å·¥å·
3. ä¿å­˜

**é¢„æœŸç»“æœ**ï¼š
- ä¹‰å·¥å·æ›´æ–°æˆåŠŸ
- åœ¨åˆ—è¡¨ä¸­æ˜¾ç¤ºæ–°çš„ä¹‰å·¥å·

### 5. å¯¼å‡ºä¹‰å·¥å·

**æµ‹è¯•æ­¥éª¤**ï¼š
1. ç‚¹å‡»"å¯¼å‡º"
2. é€‰æ‹©Excelæ ¼å¼
3. æ‰“å¼€å¯¼å‡ºçš„æ–‡ä»¶

**é¢„æœŸç»“æœ**ï¼š
- åŒ…å«"æ·±åœ³ä¹‰å·¥å·"åˆ—
- æ•°æ®æ­£ç¡®

### 6. æŸ¥çœ‹è¯¦æƒ…

**æµ‹è¯•æ­¥éª¤**ï¼š
1. ç‚¹å‡»"æŸ¥çœ‹è¯¦æƒ…"
2. æŸ¥çœ‹è”ç³»ä¿¡æ¯

**é¢„æœŸç»“æœ**ï¼š
- æ˜¾ç¤ºæ·±åœ³ä¹‰å·¥å·
- ä½¿ç”¨ç­‰å®½å­—ä½“

---

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### 1. å¿«é€Ÿå¤åˆ¶

ç‚¹å‡»è¡¨æ ¼ä¸­çš„ä¹‰å·¥å·å³å¯å¤åˆ¶ï¼Œæ— éœ€æ‰‹åŠ¨é€‰æ‹©ã€‚

### 2. æ‰¹é‡å¯¼å‡º

å¯¼å‡ºä¹‰å·¥æ•°æ®æ—¶ï¼Œæ·±åœ³ä¹‰å·¥å·ä¼šè‡ªåŠ¨åŒ…å«åœ¨å¯¼å‡ºæ–‡ä»¶ä¸­ã€‚

### 3. ç­›é€‰åŠŸèƒ½

å¯ä»¥åœ¨æœç´¢æ¡†ä¸­è¾“å…¥ä¹‰å·¥å·è¿›è¡Œæœç´¢ï¼ˆéœ€è¦åç«¯æ”¯æŒï¼‰ã€‚

### 4. å”¯ä¸€æ€§æ£€æŸ¥

å¦‚æœè¾“å…¥é‡å¤çš„ä¹‰å·¥å·ï¼Œç³»ç»Ÿä¼šæç¤ºé”™è¯¯ï¼ˆåç«¯éªŒè¯ï¼‰ã€‚

---

## ğŸ”„ åç»­ä¼˜åŒ–å»ºè®®

### 1. æ·»åŠ æ ¼å¼éªŒè¯

```typescript
validators: {
  onChange: ({ value }) => {
    if (value && !/^\d{8}$/.test(value)) {
      return "ä¹‰å·¥å·æ ¼å¼ä¸æ­£ç¡®ï¼ˆåº”ä¸º8ä½æ•°å­—ï¼‰";
    }
    return undefined;
  },
}
```

### 2. æ·»åŠ å”¯ä¸€æ€§æ£€æŸ¥

åœ¨è¡¨å•ä¸­æ·»åŠ å®æ—¶å”¯ä¸€æ€§æ£€æŸ¥ï¼Œé¿å…é‡å¤ã€‚

### 3. æ·»åŠ ä¹‰å·¥å·ç­›é€‰

åœ¨é«˜çº§ç­›é€‰ä¸­æ·»åŠ "æœ‰ä¹‰å·¥å·/æ— ä¹‰å·¥å·"é€‰é¡¹ã€‚

### 4. æ·»åŠ ä¹‰å·¥å·æœç´¢

æ”¯æŒåœ¨æœç´¢æ¡†ä¸­ç›´æ¥æœç´¢ä¹‰å·¥å·ã€‚

### 5. æ·»åŠ æ‰¹é‡å¯¼å…¥

æ”¯æŒä»Excelå¯¼å…¥æ—¶åŒ…å«ä¹‰å·¥å·ã€‚

---

## ğŸ“‚ ä¿®æ”¹çš„æ–‡ä»¶

1. **apps/web/src/components/VolunteerDataTable.tsx**
   - æ·»åŠ æ·±åœ³ä¹‰å·¥å·åˆ—
   - æ·»åŠ åˆ—åæ˜ å°„
   - æ·»åŠ å¯¼å‡ºåˆ—é…ç½®

2. **apps/web/src/components/VolunteerForm.tsx**
   - æ·»åŠ æ·±åœ³ä¹‰å·¥å·è¾“å…¥æ¡†
   - æ·»åŠ é»˜è®¤å€¼é…ç½®

3. **apps/web/src/components/VolunteerDetails.tsx**
   - å·²å­˜åœ¨æ·±åœ³ä¹‰å·¥å·æ˜¾ç¤ºï¼ˆæ— éœ€ä¿®æ”¹ï¼‰

---

## âœ… æ€»ç»“

æ·±åœ³ä¹‰å·¥å·æ˜¾ç¤ºåŠŸèƒ½å·²å®Œæˆï¼š

1. âœ… **è¡¨æ ¼æ˜¾ç¤º**ï¼šåœ¨ä¹‰å·¥åˆ—è¡¨ä¸­æ˜¾ç¤ºæ·±åœ³ä¹‰å·¥å·
2. âœ… **ç‚¹å‡»å¤åˆ¶**ï¼šç‚¹å‡»ä¹‰å·¥å·å¯å¿«é€Ÿå¤åˆ¶
3. âœ… **è¯¦æƒ…æ˜¾ç¤º**ï¼šåœ¨è¯¦æƒ…é¡µé¢æ˜¾ç¤ºæ·±åœ³ä¹‰å·¥å·
4. âœ… **è¡¨å•ç¼–è¾‘**ï¼šæ”¯æŒæ·»åŠ å’Œç¼–è¾‘æ·±åœ³ä¹‰å·¥å·
5. âœ… **å¯¼å‡ºåŠŸèƒ½**ï¼šå¯¼å‡ºæ—¶åŒ…å«æ·±åœ³ä¹‰å·¥å·
6. âœ… **ç©ºå€¼å¤„ç†**ï¼šæ²¡æœ‰ä¹‰å·¥å·æ—¶æ˜¾ç¤º"-"
7. âœ… **ç”¨æˆ·ä½“éªŒ**ï¼šç­‰å®½å­—ä½“ã€æ‚¬åœæ•ˆæœã€å¤åˆ¶æç¤º

ç°åœ¨å¯ä»¥å®Œæ•´åœ°ç®¡ç†æ·±åœ³ä¹‰å·¥å·ä¿¡æ¯äº†ï¼
