# 义工管理表格优化 - 快速开始

## 🎉 新功能一览

### 1. 高级筛选
在义工列表上方，你会看到三个筛选按钮：
- **状态筛选**：已注册、培训中、申请中、未激活、已暂停
- **角色筛选**：管理员、义工
- **性别筛选**：男、女、其他

点击任意按钮，选择需要的选项，表格会立即显示筛选结果。

### 2. 批量操作栏
选中表格中的数据后，底部会自动弹出一个悬浮操作栏，包含：
- 已选择数量显示
- 全选所有数据按钮
- 导出选中数据按钮
- 批量删除按钮（全部义工标签页）
- 批量通过/拒绝按钮（待审批标签页）

### 3. 增强的导出功能
点击表格右上角的"导出"按钮，可以选择：
- **Excel (.xlsx)**：适合在 Excel 中查看和编辑
- **CSV (.csv)**：适合导入其他系统

导出的数据包含所有重要字段，并且已经格式化为中文。

### 4. 更好的用户体验
- **搜索防抖**：输入搜索关键词后，系统会等待 300ms 再执行搜索，避免卡顿
- **排序图标**：表头的排序状态更清晰，使用图标显示升序/降序
- **加载动画**：数据加载时显示骨架屏，而不是简单的"加载中..."
- **中文列名**：列可见性菜单中显示中文名称

## 🚀 使用示例

### 场景 1：查找所有已注册的女性义工
1. 点击"状态"筛选按钮
2. 选择"已注册"
3. 点击"性别"筛选按钮
4. 选择"女"
5. 表格自动显示符合条件的结果

### 场景 2：批量通过待审批的义工
1. 切换到"待审批"标签页
2. 勾选需要通过的义工（或点击"全选所有"）
3. 在底部操作栏点击"批量通过"
4. 确认操作

### 场景 3：导出筛选后的数据
1. 使用高级筛选找到目标数据
2. 点击右上角"导出"按钮
3. 选择"Excel (.xlsx)"
4. 文件自动下载

### 场景 4：导出选中的义工信息
1. 勾选需要导出的义工
2. 在底部操作栏点击"导出选中"
3. 文件自动下载

## 📊 数据导出格式

导出的文件包含以下字段：
- 莲花斋ID
- 姓名
- 性别（男/女/其他）
- 手机号
- 邮箱
- 状态（已注册/培训中/申请中/未激活/已暂停）
- 角色（管理员/义工）
- 创建时间（格式：2025-11-20 14:30）

文件名格式：`义工列表_2025-11-20.xlsx`

## 💡 小技巧

1. **快速清除筛选**：点击筛选区域的"清除所有"按钮
2. **取消选择**：点击批量操作栏右侧的 X 按钮
3. **调整表格密度**：点击"密度"按钮，选择紧凑/标准/舒适
4. **隐藏不需要的列**：点击"列"按钮，取消勾选不需要显示的列
5. **排序数据**：点击表头可以对该列进行排序

## 🔧 技术说明

### 新增依赖
- `xlsx`: 用于生成 Excel 文件

### 新增组件
- `AdvancedFilter`: 高级筛选组件
- `BatchActionBar`: 批量操作栏组件

### 新增工具
- `lib/export.ts`: 导出工具函数

## 📝 注意事项

1. 导出功能会导出当前筛选后的所有数据
2. 批量操作会影响选中的所有数据，请谨慎操作
3. 搜索和筛选可以同时使用，结果是两者的交集
4. 切换标签页时，选择状态会被清除

## 🐛 问题反馈

如果遇到任何问题，请检查：
1. 浏览器是否支持文件下载
2. 是否有足够的权限执行批量操作
3. 网络连接是否正常

## 🎯 下一步

尝试使用这些新功能来提升你的工作效率！如果有任何建议或需求，欢迎反馈。
