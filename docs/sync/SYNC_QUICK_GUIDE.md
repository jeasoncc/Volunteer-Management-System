# 同步功能快速指南

## 🎯 选择合适的同步策略

| 场景 | 推荐策略 | 照片预检查 | 预计耗时 |
|------|---------|-----------|---------|
| 首次部署 | 全量同步 | ✅ 开启 | 较长 |
| 设备清空后 | 全量同步 | ✅ 开启 | 较长 |
| 新增义工 | 增量同步 | ❌ 关闭 | 很快 |
| 修改信息 | 更新同步 | ❌ 关闭 | 快速 |
| 日常维护 | 增量同步 | ❌ 关闭 | 快速 |

## 📋 同步流程

### 标准流程
1. 选择同步策略
2. 决定是否开启照片预检查
3. 点击"开始同步"
4. 观察实时日志
5. 如有失败，点击"重试失败项"

### 快速流程（日常使用）
1. 保持默认"全量同步"
2. 直接点击"开始同步"
3. 完成

## 🔍 日志颜色说明

- 🟢 **绿色**：成功（✅ 成功: 张三）
- 🔴 **红色**：失败（❌ 失败: 李四 - 照片下载错误）
- 🟡 **黄色**：跳过（⏭️ 跳过: 王五 - 无头像）
- ⚪ **灰色**：信息（开始同步，共 50 个义工）

## ⚠️ 常见问题

### Q: 为什么有些义工被跳过？
A: 可能原因：
- 无头像（考勤机需要人脸照片）
- 照片无法访问（开启预检查时）
- 状态不是 Active

### Q: 同步失败怎么办？
A: 
1. 查看日志中的失败原因
2. 修复问题（如上传照片、检查网络）
3. 点击"重试失败项"或使用"下发单个义工"

### Q: 照片预检查要不要开启？
A: 
- **开启**：首次同步、照片质量不确定时
- **关闭**：日常同步、追求速度时

### Q: 增量同步和更新同步的区别？
A:
- **增量同步**：只同步从未同步过的（`syncToAttendance = false`）
- **更新同步**：只同步最近24小时修改的

## 💡 最佳实践

1. **首次部署**：全量同步 + 照片预检查
2. **每日维护**：增量同步（早上一次）
3. **修改后**：单个下发或更新同步
4. **问题排查**：查看实时日志，定位具体义工

## 🚀 性能提示

- 50人全量同步：约 10-15 秒
- 50人增量同步：约 5-10 秒
- 开启照片预检查：增加 50-100% 时间
- 重试失败项：按失败数量计算

## 📞 技术支持

如遇到问题，请提供：
1. 同步日志截图
2. 失败的义工 ID
3. 考勤机设备状态
